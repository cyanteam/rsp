<%
    let name = req.cookie.str("name");
    let session = &req.cookie["session"];
    let ua = req.ua.str("user-agent");
    let accept = &req.ua["accept"];
%>
<!DOCTYPE html>
<html>
<head>
    <title>Request Info Test</title>
    <style>
        body { font-family: system-ui, sans-serif; margin: 40px; max-width: 800px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background: #f5f5f5; }
    </style>
</head>
<body>
    <h1>Request Information</h1>
    
    <h2>Cookies</h2>
    <table>
        <tr><th>Name</th><th>Value</th><th>Method</th></tr>
        <tr><td>name</td><td><%= if name.is_empty() { "(not set)" } else { name } %></td><td><code>req.cookie.str("name")</code></td></tr>
        <tr><td>session</td><td><%= if session.is_empty() { "(not set)" } else { session } %></td><td><code>&req.cookie["session"]</code></td></tr>
    </table>
    
    <h2>User Agent Headers</h2>
    <table>
        <tr><th>Header</th><th>Value</th></tr>
        <tr><td>user-agent</td><td><%= ua %></td></tr>
        <tr><td>accept</td><td><%= if accept.is_empty() { "*" } else { accept } %></td></tr>
    </table>
    
    <h2>Test Links</h2>
    <ul>
        <li><a href="response_test.rsp">Response Control Test</a></li>
        <li><a href="index.rsp">Back to Home</a></li>
    </ul>
</body>
</html>
